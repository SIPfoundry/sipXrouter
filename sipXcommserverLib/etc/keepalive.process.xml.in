<?xml version="1.0"?>
<!-- 
  - Keepalive preloads the in memory databases and keeps them resident
  - include on any system running any communications server 
  - or any httpd that uses the sipx authentication module
  -->
<watchdog-process enable="true" xmlns="http://www.sipfoundry.org/sipX/schema/xml/watchdogprocess-00-01">
  <process_definitions>
    <group name="Misc" >
        <process name="KeepAlive">
            <dependentdelay wait="0" />
            <stdout file="/dev/null" />
            <stderr file="/dev/null" />
            <stdin  file="" />

            <start control="true">
                <execute command="@bindir@/keepalive.sh"
                         defaultdir="@SIPX_LOGDIR@" />
            </start>

            <!-- If no execute, then kill -->
            <stop control="false" />

            <!-- If no execute, then stop-start -->
            <restart control="false" />

            <!-- <dependency>??</dependency> -->
        </process>
    </group>
  </process_definitions>
  <watchdog>
   <monitor>
      <monitor-process name="KeepAlive" restart="enable" max_restarts="3" report="enable" max_reports="3">
         <failure_contact method="email">@SIPXPBXUSER@@localhost</failure_contact>
      </monitor-process>
   </monitor>
  </watchdog>
</watchdog-process>
