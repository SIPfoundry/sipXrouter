TARGET_PLATFORM ?= Fedora_12

# order is import for some of these as afar as building dependencies first
# consult spec files for authority on dependencies before changing the order
sipx = \
  sipXportLib \
  sipXtackLib \
  sipXmediaLib \
  sipXmediaAdapterLib \
  sipXcallLib \
  sipXcommserverLib \
  sipXcommons \
  sipXacd \
  sipXacccode \
  sipXrelay \
  sipXbridge \
  sipXrest \
  sipXcallController \
  sipXcdrLog \
  sipXfreeSwitch \
  sipXopenfire \
  sipXtools \
  sipXpark \
  sipXpresence \
  sipXrls \
  sipXpbx \
  sipXconfig \
  sipXimbot \
  sipXivr \
  sipXpage \
  sipXprovision \
  sipXproxy \
  sipXpublisher \
  sipXrecording \
  sipXregistry \
  sipXsaa \
  sipXsupervisor \
  sipXopenacd \
  sipXecs

lib_common = \
  rubygem-file-tail \
  freeswitch \
  mongo \
  js \
  openacd \
  sipx-openfire

lib_Fedora_11 = \
  $(lib_common) \
  ruby-dbi \
  ruby-postgres

lib_Fedora_12 = \
  $(lib_Fedora_11)

lib_CentOS_5 = \
  $(lib_common) \
  erlang \
  rsyslog \
  ruby-dbi \
  ruby-postgres \
  cppunit \
  java-sun \
  nsis \
  nsis-data \
  rrdtool \
  rubygem-rake \
  rubygems \
  scons \
  xerces-c \
  stunnel

lib = $(lib_$(TARGET_PLATFORM))

all =  $(lib) $(sipx)